window.addEventListener("load",function(event){let dataActionHandlerElements=document.querySelectorAll("[data-action-handler]");if(dataActionHandlerElements.length>0){dataActionHandlerElements.forEach(function(element){element.addEventListener("click",function(){let actionType=element.getAttribute("data-action-handler");if(actionType==="delete"){let confirmationMessage="Are you sure you want to delete this?";if(confirm(confirmationMessage)){deleteRequest(element.getAttribute("data-uid"))}}})})}const deleteRequest=function(uid){$.ajax({type:"POST",url:TYPO3.settings.ajaxUrls["FormData::delete"],data:{uid:uid,"tx_othmansaveformtodb_web_othmansaveformtodbtxsaveformtodbdomainmodelformdata[controller]":"FormData","tx_othmansaveformtodb_web_othmansaveformtodbtxsaveformtodbdomainmodelformdata[action]":"delete"},success:function(data,success){let dataParent=document.querySelector("#"+data).parentElement.parentElement.parentElement;dataParent.style.opacity="0";setTimeout(function(){dataParent.remove()},1e3)},error:function(error){console.log("error");console.log(error)}})}});function printContent(element){var elementParent=element.parentNode;if(elementParent.querySelector(".print-header").value.length>0){elementParent.querySelector(".print-header").innerHTML=elementParent.querySelector(".print-header").value}else{elementParent.querySelector(".print-header").innerHTML=" "}if(elementParent.querySelector(".print-footer").value.length>0){elementParent.querySelector(".print-footer").innerHTML=elementParent.querySelector(".print-footer").value}else{elementParent.querySelector(".print-footer").innerHTML=" "}var originalContents=document.body.innerHTML;element.remove();document.body.innerHTML="<br>"+elementParent.innerHTML;window.print();document.body.innerHTML=originalContents;document.querySelectorAll(".print-header, .print-footer").forEach(function(element){if(element.value==" "){element.innerHTML=""}})}
